# CLAUDE.md - 풋볼매니저 엔진 개발 코딩 표준

*당신의 프로젝트를 위한 "협업 가이드" 문서. Claude와 협업할 때 항상 이 문서를 참고하세요.*

---

## 1. 프로젝트 개요

**프로젝트명:** 풋볼매니저 엔진 (Football Manager Engine)  
**목표:** 2028년 8월 얼리액세스 출시  
**개발 환경:** Unity + C#  
**현재 상태:** 개발 중 (수십 개 폴더 및 C# 파일 기존 구조 유지)

**주요 특징:**
- 현실적인 구기 물리 시뮬레이션
- 라이선스별 AI (무급 ~ S급)
- 전술 시스템
- 실시간 매치 시뮬레이션

**기본 철학:**
```
"완벽한 코드보다 관리 가능한 코드"
"중복을 피하는 것이 최적화보다 먼저"
"테스트 없는 코드는 존재하지 않음"
```

---

## 2. Claude와의 협업 규칙

### 2.1 기능 추가 시 프롬프트

```markdown
# 새로운 기능: [기능명]

## 컨텍스트
현재 상황: [상황 설명]
기존 관련 코드: [참고할 기존 코드 파일/폴더]

## 요구사항
- 목표: [무엇을 하려고 하는가]
- 입력값: [받아들일 값]
- 출력값: [반환할 값]

## 제약 조건
- 기존 폴더 구조 유지
- 기존 파일과의 호환성 확인
- 에러 처리 필수
- 주석 (XML 문서) 필수
- 테스트 코드 작성 필수 (있으면)

## 확인 사항
- 기존 코드에서 재사용할 수 있는 함수가 있는가?
- 기존 코드와 중복이 없는가?
- 성능 문제는 없는가?
```

### 2.2 코드 리뷰 요청 프롬프트

```markdown
# 자동 코드 리뷰

다음 코드를 검토해주세요:

[검토할 코드]

## 체크리스트
[ ] 주석 (XML 문서)가 명확한가?
[ ] 에러 처리가 충분한가?
[ ] 기존 코드와 중복은 없는가?
[ ] 성능 문제는 없는가?
[ ] 기존 폴더 구조와 맞는가?
[ ] 네이밍이 일관성 있는가?

## 개선 사항
위 항목에서 문제가 있으면 개선된 버전을 제시해주세요.
```

### 2.3 버그 수정 프롬프트

```markdown
# 버그 리포트

## 문제 설명
[무엇이 문제인가]

## 재현 방법
1. [첫 번째 단계]
2. [두 번째 단계]
3. [세 번째 단계]

## 예상 결과
[뭐가 나와야 하는가]

## 실제 결과
[뭐가 나왔는가]

## 관련 코드/폴더
[관련 파일/함수/폴더 경로]

## 가설
[뭐가 잘못되었을 것 같은가]

---
이전에 이런 버그가 있었나?
이 버그를 고치려면 어디를 수정해야 할까?
```

---

## 3. 기술 부채 관리

### 3.1 월별 유지보수 체크리스트 (6시간)

**매월 첫 주:**

```
[ ] 자동 코드 리뷰
    - 지난달 생성된 코드 Claude에게 검토 요청
    - 중복 코드 검색
    - 성능 문제 체크

[ ] 단위 테스트 실행 (기존 테스트)
    - 모든 테스트 재실행
    - 실패한 테스트 수정

[ ] 코드 커버리지 확인
    - 목표: 80% 이상
    - 테스트되지 않은 부분 추가

[ ] 보안 스캔
    - Null 참조 예외
    - 무한 루프 가능성
```

### 3.2 3개월마다 (1주)

```
[ ] 코드 중복 검색 및 통합
    - 기존 코드에서 중복 로직 찾기
    - 불필요한 함수 제거
    - 구조 최적화

[ ] 아키텍처 검토
    - 폴더 구조가 적절한가?
    - 새 폴더가 필요한가?
    - 의존성 문제는 없는가?

[ ] 문서 업데이트
    - CLAUDE.md 최신화
    - 새로운 규칙 추가
```

### 3.3 6개월마다 (2주)

```
[ ] 성능 프로파일링
    - CPU 사용량
    - 메모리 누수
    - 프레임 드롭

[ ] 미래 계획 검토
    - 새로운 기능 추가 가능성
    - 현재 구조로 커버 가능한가?
    - 리팩토링 필요한가?
```

---

## 4. 응급 상황 대응

### 4.1 버그가 많이 발생했을 때

```
1. 침착함 유지
2. 모든 버그를 리스트업
3. 우선순위 지정
   - Critical: 게임 불가능
   - High: 게임 플레이 방해
   - Medium: 불편하지만 계속 가능
   - Low: 사소한 버그

4. Critical 버그부터 해결
5. Claude에 버그 리포트 제시 (위의 버그 리포트 프롬프트 사용)
6. 수정 후 반드시 테스트 재실행
```

### 4.2 성능이 저하되었을 때

```
1. 프로파일링 (Unity Profiler)
2. 병목 지점 파악
   - Physics 계산?
   - AI 계산?
   - Rendering?

3. Claude에 요청:
   "이 함수를 최적화할 수 있어?
    현재 병목: [병목]
    목표: [목표 성능]"
```

---

## 5. 성공의 지표

### 5.1 매달 모니터링할 지표

```
코드 품질:
- [ ] 중복 코드: 5% 이하 (목표)
- [ ] 테스트 커버리지: 80% 이상
- [ ] 코드 리뷰 패스율: 90% 이상

성능:
- [ ] 평균 프레임: 60fps 이상
- [ ] 메모리 누수: 없음
- [ ] 최악의 프레임: 30fps 이상

버그:
- [ ] 월간 버그: 10개 이하
- [ ] 버그 수정 시간: 평균 2시간 이하
- [ ] 재발 버그: 0%
```

---

## 6. 최종 철학

```
"코드는 작품이 아니라 도구다."

최고의 코드 ≠ 가장 정교한 코드
최고의 코드 = 관리하기 쉬운 코드

따라서:
✓ 명확함 > 정교함
✓ 재사용성 > 최적화
✓ 테스트 가능성 > 완벽성
✓ 문서화 > 영리한 코딩
```

---

**이 문서는 프로젝트와 함께 성장합니다.**

새로운 규칙을 발견하면 여기에 추가하세요.
Claude와 협업하면서 "더 좋은 방법"을 찾으면 업데이트하세요.

**이 파일은 당신의 프로젝트의 "협업 헌법"입니다. 항상 참고하세요.**
